### Серевер Ubuntu 18.04 (root):

* ip, имя пользователя и т д, вымышлено для примера, заменять на своё

1.	Подключаемя под рутом на сервер
2.	Создаем нового пользователя neyton
3.	Добавляем neyton в группу sudo
4.	Выходим с сервера

```txt
1)	ssh root@33.33.33.33
2)	adduser neyton
3)	usermod -a -G sudo neyton
4)	exit
```

### Сервер (пользователь neyton):

1.	Подключаемся к серверу
2.	Смотрим путь
3.	Создаем папку для ssh ключей
4.	Смотрим в скрытых её наличие

```txt
1)	ssh neyton@33.33.33.33
2)	pwd
3)	mkdir -p ~/.ssh
4)	ls -la
```

###	Идем в терминал на ПК (линукс):

1.	Генерируем ssh ключ (проклививая Enter)  
	(Секретный тут /home/gor/.ssh/id_rsa.)  
	(публичный тут /home/gor/.ssh/id_rsa.pub.)
2.	Копируем публичный ключ на сервер

```text
1)	ssh-keygen -b 4096
2)	scp ~/.ssh/id_rsa.pub neyton@33.33.33.33:~/.ssh/authorized_keys
```

### Сервер (терминал - пользователь neyton):

1.	Проверяем есть ли файл authorized_keys
2.	Устанавливаем права на папку (читать, записывать, открывать)
3.	Устанавливаем права на файл (читать, записывать)
4.	Отключаемся от сервера

```text
1)	ls .ssh
2)	sudo chmod 700 ~/.ssh/
3)	sudo chmod 600 ~/.ssh/*
4)	exit или logout
```

### Сервер (терминал - пользователь neyton):

1.	Если все хорошо, подключаемся без пароля  
	Если не получилось без пароля - к следующим шагам не приступать!!!
2.	Редактируем файл, чтобы запретить root авторизацию и доступ по паролю.
3.	Перезапустим ssh с помощью службы ctl

```text
1)	ssh neyton@33.33.33.33
2)	sudo nano /etc/ssh/sshd_config

находим:  
PermitRootLogin yes
PasswordAuthentication yes

Заменяем на:
PermitRootLogin no
PasswordAuthentication no

Работа с консольным редактором nano: после завершения редактирования,
ctrl+x  затем клавишу Y далее Enter. (файл сохранится, редактор закроется).

3)	sudo systemctl restart sshd

``` 

### Сервер - Фаервол (neyton):

1.	Cписок зарегистрированных профилей приложений
2.	Разрешаем доступ по SSH
3.	Включаем брандмаузер
4.	Смотрим статус

```text
1)	sudo ufw app list
2)	sudo ufw allow OpenSSH
3)	sudo ufw enable
4)	sudo ufw status
```

**	Пользователь добавлен - Доступ по SSH настроен
